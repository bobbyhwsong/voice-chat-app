<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>μμ„± μ±„ν… μΈν„°νμ΄μ¤</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="nav-buttons">
                <button class="nav-btn home-btn" onclick="window.location.href='index.html'">π  ν™</button>
                <button class="nav-btn back-btn" onclick="window.history.back()">β† μ΄μ „</button>
            </div>
            <h1>π¥ μλ£ μ§„λ£ μ—°μµ μ‹μ¤ν…</h1>
            <p>μμ„±μΌλ΅ μμ‚¬μ™€ μ§„λ£ λ€ν™”λ¥Ό μ—°μµν•μ„Έμ”!</p>
        </header>
        
        <div class="chat-container">
            <div class="chat-messages" id="chatMessages">
                <div class="message bot-message">
                    <div class="message-content">
                        μ•λ…•ν•μ„Έμ”, μ–΄λ–»κ² μ¤μ…¨λ‚μ”?
                    </div>
                    <div class="message-time">μ§€κΈ</div>
                </div>
            </div>
            
            <div class="input-area">
                <div class="text-input-container">
                    <input type="text" id="textInput" placeholder="μ¦μƒμ„ μ„¤λ…ν•κ±°λ‚ μμ‚¬μ—κ² μ§λ¬Έν•μ„Έμ”..." />
                    <button id="voiceBtn" class="voice-btn">
                        <span class="mic-icon">π¤</span>
                        <span class="mic-text">μμ„±</span>
                    </button>
                    <button id="stopVoiceBtn" class="stop-voice-btn" title="μμ„± λ©μ¶¤">
                        <span class="stop-icon">βΉοΈ</span>
                    </button>
                    <button id="sendBtn" class="send-btn">μ „μ†΅</button>
                </div>
                
                <div class="voice-status" id="voiceStatus"></div>
            </div>
        </div>
        
        <div class="settings">
            <div class="setting-group" style="display: none;">
                <label>μμ„±: ElevenLabs 50λ€ λ‚¨μ„± μμ‚¬</label>
            </div>
            <div class="setting-group">
                <button id="clearBtn" class="clear-btn">π”„</button>
                <button id="feedbackBtn" class="feedback-btn" onclick="window.location.href='feedback.html'">ν”Όλ“λ°± λ³΄κΈ°</button>
            </div>
        </div>
    </div>
    
    <script src="env.js"></script>
    <script src="script.js"></script>
    <script>
        // URL νλΌλ―Έν„°μ—μ„ λ°±μ—”λ“ API URL μ„¤μ •
        document.addEventListener('DOMContentLoaded', function() {
            const urlParams = new URLSearchParams(window.location.search);
            const backendUrl = urlParams.get('backend');
            
            if (backendUrl) {
                // λ°±μ—”λ“ URLμ„ μ „μ—­ λ³€μλ΅ μ„¤μ •
                window.API_BASE_URL = backendUrl;
                console.log('λ°±μ—”λ“ API URLμ΄ μ„¤μ •λμ—μµλ‹λ‹¤:', backendUrl);
                
                // VoiceChatInterfaceκ°€ μ΄λ―Έ μƒμ„±λμ—λ‹¤λ©΄ μ—…λ°μ΄νΈ
                if (window.voiceChat) {
                    window.voiceChat.apiBaseUrl = backendUrl;
                    console.log('VoiceChatInterface API URLμ΄ μ—…λ°μ΄νΈλμ—μµλ‹λ‹¤:', backendUrl);
                }
            }
        });
    </script>
</body>
</html> 